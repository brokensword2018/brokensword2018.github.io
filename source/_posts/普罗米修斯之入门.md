---
title: 普罗米修斯之入门
date: 2020-07-29 22:55:38
tags:
    - 普罗米修斯
  
categories: 工具学习

---
## 前序  
一个监控系统由哪些东西构成？
- 数据源，数据可以是rpc调用成功率、机器负载等等
- 数据收集服务器
- 数据使用，包括数据可视化和告警等     
<!-- more -->  

监控系统构成如下：  

{% asset_img 监控系统结构.jpg 监控系统结构 %}  

本文将从监控系统的构成数据源、数据收集和数据使用三方面介绍Promethus，Promethus的架构如下：  

{% asset_img 普罗米修斯架构.jpg 普罗米修斯架构 %}  


## 数据源  
Promethus主要有两种数据源，分别为使用`client libraries`的方式和`exporter`的方式。  

### 使用`client libraries`  
使用`client libraries`将会把应用程序需要监控的数据以`http`接口的形式暴露给数据收集服务器。
Promethus官方提供了， `Go, java, scala, Python, Ruby`语言的库，其他语言，如`c++, c, R`等有第三方的库。  
**特别的**当你的进程是个短命鬼时（23333），Promethus提供了一个叫做`Pushgateway`的工具，你可以把数据推送到该处，Promethus也可以到该处收集数据。  

### 使用`exporter`   
使用`exporter`可以将第三方系统中一些现有指标进行导出。  
例如数据库相关的
- ClickHouse exporter
- MySQL server exporter
- Redis exporter 
通过这些`exporter`便可以很方便的监控我们所使用的数据库的负载、连接情况等。  

## 数据收集  

## 数据使用  














## 参考文档  
[Prometheus官方文档](https://prometheus.io/docs/introduction/overview/)